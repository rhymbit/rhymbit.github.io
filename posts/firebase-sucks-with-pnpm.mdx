---
title: Firebase sucks with pnpm
description: Everything's fine, until you build the project and it throws error in your builder's (e.g. rollup) code.
pubDate: 2025-03-23
socialImage:
  filepathPublic: "/images/first-post.jpg"
  alt: "First Post"
timeToRead: 3 mins
tags: ["firebase", "pnpm"]
---

## Pnpm Sucks with Firebase

When using firebase in any project, for example in your astro project,
and things just straight up not work for some reason or other,
then just try :-
- remove/delete `node_modules` folder
- `pnpm install --shamefully-hoist` instead of normal `pnpm install`

**Pnpm** has this strict module structure and **firebase** has deep 
dependencies that vite cannot resolve (which uses rollup under the hood) if
dependencies were installed using `pnpm install` instead of `pnpm install --shamefully-hoist`.

The `pnpm install --shamefully-hoist` install the dependencies just like `npm install`,
which is messy, but that's what works for now.
---
import HomepagePostCard from "@/components/page-components/homepage/homepage-post-card/homepage-post-card.astro";
import SearchPosts from "@/components/search-posts/search-posts.astro";
import BaseLayout from "@/layouts/base-layout.astro";
import { getCollection } from "astro:content";

const allPosts = await getCollection("posts");
---

<BaseLayout class="flex flex-col">
  <main
    class="px-2 py-10 w-full h-full grow flex flex-col gap-y-28 overflow-x-clip 2xl:gap-y-44"
  >
    <div class="flex-center">
      <SearchPosts />
    </div>

    <section class="my-10 flex flex-col items-center gap-y-5">
      {
        allPosts.map((post) => (
          <div class="w-full max-w-4xl">
            <HomepagePostCard post={post} />
          </div>
        ))
      }
    </section>
  </main>
</BaseLayout>
